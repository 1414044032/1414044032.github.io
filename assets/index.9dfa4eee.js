import{d as p,e as P}from"./interface.dd4c3312.js";import{B as $,C as M,r as i,F as O,D as R,d as r,o as _,c as B,j as y,e as l,f as a,g as t,I as D,J as j,K as z,n as W,p as f,_ as X}from"./index.8b4e0df5.js";import{f as G,a as H}from"./timeSheet.f77fdda0.js";import{_ as k}from"./index.vue_vue_type_script_setup_true_lang.45ca6477.js";import{_ as J}from"./index.vue_vue_type_script_setup_true_lang.0f2a16a1.js";import{_ as K}from"./index.vue_vue_type_script_setup_true_lang.2ae15ae8.js";import{_ as q}from"./index.vue_vue_type_script_setup_true_lang.abca134c.js";import{_ as Q}from"./index.vue_vue_type_script_setup_true_lang.71a764b5.js";import{F}from"./interface.b519aa86.js";import"./part.601bb279.js";import"./user.517568cb.js";import"./index.vue_vue_type_script_setup_true_lang.666c15f8.js";import"./interface.7e30e7ed.js";const Y={class:"app-container"},Z=$({__name:"index",setup(ee){const x={isPage:!0,pageNumber:1,pageSize:10,partCode:"",processItemState:p.ALL,productionNo:"",userId:0},{cloned:s,sync:S}=M(x),C=i([]),V=i(0),b=i(!1),d=async()=>{b.value=!0;try{const u=await G(s.value),{data:o,msg:g}=u;console.log(o),C.value=o.data,V.value=o.total}catch(u){D.error(u)}finally{b.value=!1}};O(()=>{d()});const I=[{label:"\u9879\u76EE\u540D\u79F0",prop:"projectName"},{label:"\u6750\u6599\u540D\u79F0",prop:"materialName"},{label:"\u96F6\u4EF6\u540D\u79F0",prop:"partName"},{label:"\u5B9E\u9645\u5DE5\u65F6",prop:"actualWorkHour"},{label:"\u5BA1\u6838\u610F\u89C1",prop:"auditComment"},{label:"\u5F00\u59CB\u65F6\u95F4",prop:"beginTime"},{label:"\u786E\u8BA4\u65F6\u95F4",prop:"confirmTime"},{label:"\u6570\u91CF",prop:"count"},{label:"\u5B8C\u6210\u6570\u91CF",prop:"finishPartCount"},{label:"\u5B8C\u6210\u6570\u91CF",prop:"finishPartCount"},{label:"\u4EFB\u52A1\u72B6\u6001",prop:"taskState",slotFlag:"taskState"},{label:"\u5DE5\u5E8F\u72B6\u6001",prop:"processItemState",slotFlag:"processItemState"}],E={[p.UNEXECUTED]:{label:"\u672A\u6267\u884C",color:"danger"},[p.EXECUTING]:{label:"\u6267\u884C\u4E2D",color:"warning"},[p.COMPLETED]:{label:"\u5DF2\u5B8C\u6210",color:"success"}},m=i(!1),v=R({form:{},rules:{},formLabelConfig:[{label:"\u5408\u683C",prop:"pass",type:F.Number,placeholder:"\u8BF7\u8F93\u5165\u5408\u683C\u6570\u91CF"},{label:"\u8FD4\u4FEE",prop:"repair",type:F.Number,placeholder:"\u8BF7\u8F93\u5165\u8FD4\u4FEE\u6570\u91CF"},{label:"\u62A5\u5E9F",prop:"disable",type:F.Number,placeholder:"\u8BF7\u8F93\u5165\u62A5\u5E9F\u6570\u91CF"}]}),N=u=>{v.form={...u},m.value=!0},w=async u=>{console.log(u),await H({id:u.id,pass:u.pass,repair:u.repair,disable:u.disable}),D.success("\u5DE5\u65F6\u786E\u8BA4\u6210\u529F"),m.value=!1,d()};return(u,o)=>{const g=r("el-input"),n=r("el-form-item"),h=r("el-option"),A=r("el-select"),c=r("el-button"),T=r("el-form"),U=r("el-table-column"),L=r("el-table");return _(),B("div",Y,[y("div",null,[l(T,{model:t(s),inline:!0,"label-width":"68px"},{default:a(()=>[l(n,{label:"\u751F\u4EA7\u7F16\u53F7"},{default:a(()=>[l(g,{modelValue:t(s).productionNo,"onUpdate:modelValue":o[0]||(o[0]=e=>t(s).productionNo=e),style:{width:"240px"}},null,8,["modelValue"])]),_:1}),l(n,{label:"\u96F6\u4EF6\u7F16\u53F7"},{default:a(()=>[l(t(J),{modelValue:t(s).partCode,"onUpdate:modelValue":o[1]||(o[1]=e=>t(s).partCode=e),style:{width:"240px"}},null,8,["modelValue"])]),_:1}),l(n,{label:"\u64CD\u4F5C\u5458"},{default:a(()=>[l(t(K),{modelValue:t(s).userId,"onUpdate:modelValue":o[2]||(o[2]=e=>t(s).userId=e),style:{width:"240px"}},null,8,["modelValue"])]),_:1}),l(n,{label:"\u72B6\u6001"},{default:a(()=>[l(A,{modelValue:t(s).processItemState,"onUpdate:modelValue":o[3]||(o[3]=e=>t(s).processItemState=e),style:{width:"240px"}},{default:a(()=>[(_(!0),B(j,null,z(t(P),e=>(_(),W(h,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(n,null,{default:a(()=>[l(c,{type:"primary",icon:"Search",onClick:d},{default:a(()=>[f("\u67E5\u8BE2")]),_:1}),l(c,{icon:"Refresh",onClick:t(S)},{default:a(()=>[f("\u91CD\u7F6E")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),y("div",null,[l(L,{data:C.value,border:"",style:{width:"100%"}},{default:a(()=>[l(q,{columns:I},{taskState:a(({row:e})=>[l(k,{value:e.taskState,mapConfig:E},null,8,["value"])]),processItemState:a(({row:e})=>[l(k,{value:e.processItemState,mapConfig:E},null,8,["value"])]),_:1}),l(U,{label:"\u64CD\u4F5C",fixed:"right",width:"250px"},{default:a(e=>[l(c,{size:"small",type:"primary",onClick:le=>N(e.row),disabled:e.row.taskState!==t(p).COMPLETED},{default:a(()=>[f("\u5DE5\u65F6\u786E\u8BA4")]),_:2},1032,["onClick","disabled"])]),_:1})]),_:1},8,["data"])]),l(Q,{modelValue:m.value,"onUpdate:modelValue":o[4]||(o[4]=e=>m.value=e),title:"\u6DFB\u52A0\u5DE5\u65F6",formConfig:v,onSubmit:w},null,8,["modelValue","formConfig"])])}}});const fe=X(Z,[["__scopeId","data-v-3de45dd0"]]);export{fe as default};
