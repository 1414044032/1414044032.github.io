import{d as p,e as L}from"./interface.dd4c3312.js";import{B as M,C as $,r as m,F as O,D as R,d as n,o as _,c as g,j as B,e,f as o,g as u,I as D,J as j,K as X,n as z,p as f,_ as G}from"./index.8b4e0df5.js";import{f as H,a as J}from"./timeSheet.f77fdda0.js";import{_ as y}from"./index.vue_vue_type_script_setup_true_lang.45ca6477.js";import{_ as K}from"./index.vue_vue_type_script_setup_true_lang.0f2a16a1.js";import{_ as W}from"./index.vue_vue_type_script_setup_true_lang.2ae15ae8.js";import{_ as q}from"./index.vue_vue_type_script_setup_true_lang.abca134c.js";import{_ as Q}from"./index.vue_vue_type_script_setup_true_lang.71a764b5.js";import{F}from"./interface.b519aa86.js";import"./part.601bb279.js";import"./user.517568cb.js";import"./index.vue_vue_type_script_setup_true_lang.666c15f8.js";import"./interface.7e30e7ed.js";const Y={class:"app-container"},Z=M({__name:"index",setup(ee){const V={isPage:!0,pageNumber:1,pageSize:10,partCode:"",processItemState:p.COMPLETED,productionNo:"",userId:0},{cloned:t,sync:S}=$(V),b=m([]),I=m(0),C=m(!1),d=async()=>{C.value=!0;try{const s=await H(t.value),{data:a,msg:v}=s;console.log(a),b.value=a.data,I.value=a.total}catch(s){D.error(s)}finally{C.value=!1}};O(()=>{d()});const x=[{label:"\u9879\u76EE\u540D\u79F0",prop:"projectName"},{label:"\u6750\u6599\u540D\u79F0",prop:"materialName"},{label:"\u96F6\u4EF6\u540D\u79F0",prop:"partName"},{label:"\u5B9E\u9645\u5DE5\u65F6",prop:"actualWorkHour"},{label:"\u5BA1\u6838\u610F\u89C1",prop:"auditComment"},{label:"\u5F00\u59CB\u65F6\u95F4",prop:"beginTime"},{label:"\u786E\u8BA4\u65F6\u95F4",prop:"confirmTime"},{label:"\u6570\u91CF",prop:"count"},{label:"\u5B8C\u6210\u6570\u91CF",prop:"finishPartCount"},{label:"\u5B8C\u6210\u6570\u91CF",prop:"finishPartCount"},{label:"\u4EFB\u52A1\u72B6\u6001",prop:"taskState",slotFlag:"taskState"},{label:"\u5DE5\u5E8F\u72B6\u6001",prop:"processItemState",slotFlag:"processItemState"},{label:"\u5408\u683C",prop:"pass"},{label:"\u8FD4\u4FEE",prop:"repair"},{label:"\u62A5\u5E9F",prop:"disable"}],E={[p.UNEXECUTED]:{label:"\u672A\u6267\u884C",color:"danger"},[p.EXECUTING]:{label:"\u6267\u884C\u4E2D",color:"warning"},[p.COMPLETED]:{label:"\u5DF2\u5B8C\u6210",color:"success"}},i=m(!1),N=R({form:{},rules:{},formLabelConfig:[{label:"\u5408\u683C",prop:"pass",type:F.Number,placeholder:"\u8BF7\u8F93\u5165\u5408\u683C\u6570\u91CF"},{label:"\u8FD4\u4FEE",prop:"repair",type:F.Number,placeholder:"\u8BF7\u8F93\u5165\u8FD4\u4FEE\u6570\u91CF"},{label:"\u62A5\u5E9F",prop:"disable",type:F.Number,placeholder:"\u8BF7\u8F93\u5165\u62A5\u5E9F\u6570\u91CF"}]}),k=async s=>{console.log(s),await J({id:s.id,pass:s.pass,repair:s.repair,disable:s.disable}),D.success("\u5DE5\u65F6\u786E\u8BA4\u6210\u529F"),i.value=!1,d()};return(s,a)=>{const v=n("el-input"),r=n("el-form-item"),w=n("el-option"),A=n("el-select"),c=n("el-button"),h=n("el-form"),T=n("el-col"),U=n("el-row"),P=n("el-table");return _(),g("div",Y,[B("div",null,[e(h,{model:u(t),inline:!0,"label-width":"68px"},{default:o(()=>[e(r,{label:"\u751F\u4EA7\u7F16\u53F7"},{default:o(()=>[e(v,{modelValue:u(t).productionNo,"onUpdate:modelValue":a[0]||(a[0]=l=>u(t).productionNo=l),style:{width:"240px"}},null,8,["modelValue"])]),_:1}),e(r,{label:"\u96F6\u4EF6\u7F16\u53F7"},{default:o(()=>[e(u(K),{modelValue:u(t).partCode,"onUpdate:modelValue":a[1]||(a[1]=l=>u(t).partCode=l),style:{width:"240px"}},null,8,["modelValue"])]),_:1}),e(r,{label:"\u64CD\u4F5C\u5458"},{default:o(()=>[e(u(W),{modelValue:u(t).userId,"onUpdate:modelValue":a[2]||(a[2]=l=>u(t).userId=l),style:{width:"240px"}},null,8,["modelValue"])]),_:1}),e(r,{label:"\u72B6\u6001"},{default:o(()=>[e(A,{modelValue:u(t).processItemState,"onUpdate:modelValue":a[3]||(a[3]=l=>u(t).processItemState=l),style:{width:"240px"}},{default:o(()=>[(_(!0),g(j,null,X(u(L),l=>(_(),z(w,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(r,null,{default:o(()=>[e(c,{type:"primary",icon:"Search",onClick:d},{default:o(()=>[f("\u67E5\u8BE2")]),_:1}),e(c,{icon:"Refresh",onClick:u(S)},{default:o(()=>[f("\u91CD\u7F6E")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),e(U,{gutter:10,class:"mb8"},{default:o(()=>[e(T,{span:1.5},{default:o(()=>[e(c,{type:"warning",plain:"",icon:"Download"},{default:o(()=>[f("\u5BFC\u51FA")]),_:1})]),_:1},8,["span"])]),_:1}),B("div",null,[e(P,{data:b.value,border:"",style:{width:"100%"}},{default:o(()=>[e(q,{columns:x},{taskState:o(({row:l})=>[e(y,{value:l.taskState,mapConfig:E},null,8,["value"])]),processItemState:o(({row:l})=>[e(y,{value:l.processItemState,mapConfig:E},null,8,["value"])]),_:1})]),_:1},8,["data"])]),e(Q,{modelValue:i.value,"onUpdate:modelValue":a[4]||(a[4]=l=>i.value=l),title:"\u6DFB\u52A0\u5DE5\u65F6",formConfig:N,onSubmit:k},null,8,["modelValue","formConfig"])])}}});const _e=G(Z,[["__scopeId","data-v-784d3d61"]]);export{_e as default};
