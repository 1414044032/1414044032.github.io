import{F as b,_ as y,q as L,r as P,s as T}from"./index.vue_vue_type_script_setup_true_lang.e875871c.js";import{A as G,B as M,r as c,D as $,C as E,d as l,F as q,o as F,c as H,e as o,f as n,l as D,G as j,k as J,g as d,H as r,n as w}from"./index.2e5bc0a8.js";import"./user.65af7cc1.js";import"./index.vue_vue_type_script_setup_true_lang.4fed71ce.js";import"./index.vue_vue_type_script_setup_true_lang.e793fdb4.js";const K={class:"app-container"},O=D("div",null,null,-1),oe=G({__name:"index",setup(Q){const V={pageNumber:1,pageSize:10,isPage:!0},{cloned:f,sync:R}=M(V),g=c([]),h=async e=>{console.log(e);const t=await L(e),{data:a,msg:u}=t;if(a===1){r.success("\u8BBE\u5907\u7C7B\u578B\u65B0\u589E\u6210\u529F"),p.value=!1,i();return}r.error(u)},k=async e=>{const t=await P(e),{data:a,msg:u}=t;if(a===1){r.success("\u70B9\u68C0\u9879\u4FEE\u6539\u6210\u529F"),m.value=!1,i();return}r.error(u)},_=c(!1),v=c(0),i=async()=>{_.value=!0;try{const e=await T(f.value),{data:t,msg:a}=e;g.value=t.data,v.value=t.total}catch(e){r.error(e)}finally{_.value=!1}};$(()=>{i()});const p=c(!1),m=c(!1),x=()=>{console.log("\u65B0\u589E"),p.value=!0},z=e=>{B.form={...e},m.value=!0},B=E({form:{},rules:{},formLabelConfig:[{label:"\u8BBE\u5907\u7C7B\u578B",prop:"item",type:b.Input,placeholder:"\u8BF7\u8F93\u5165"}]}),N=E({form:{item:""},rules:{},formLabelConfig:[{label:"\u70B9\u68C0\u9879",prop:"item",type:b.Input,placeholder:"\u8BF7\u8F93\u5165\u70B9\u68C0\u9879"}]});return(e,t)=>{const a=l("el-button"),u=l("el-col"),S=l("el-row"),C=l("el-table-column"),U=l("el-table"),A=l("pagination"),I=q("loading");return F(),H("div",K,[O,o(S,{gutter:10,class:"mb8"},{default:n(()=>[o(u,{span:1.5},{default:n(()=>[o(a,{type:"primary",plain:"",icon:"Plus",onClick:x},{default:n(()=>[w("\u65B0\u589E")]),_:1})]),_:1},8,["span"])]),_:1}),D("div",null,[j((F(),J(U,{data:g.value,border:"",style:{width:"100%"}},{default:n(()=>[o(C,{prop:"item",label:"\u70B9\u68C0\u9879"}),o(C,{label:"\u64CD\u4F5C"},{default:n(s=>[o(a,{size:"small",type:"warning",onClick:W=>z(s.row)},{default:n(()=>[w("\u4FEE\u6539")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[I,_.value]]),o(A,{total:v.value,page:d(f).pageNumber,"page-size":d(f).pageSize,onPagination:i},null,8,["total","page","page-size"])]),o(d(y),{modelValue:p.value,"onUpdate:modelValue":t[0]||(t[0]=s=>p.value=s),title:"\u65B0\u589E\u70B9\u68C0\u9879",formConfig:N,onSubmit:h},null,8,["modelValue","formConfig"]),o(d(y),{modelValue:m.value,"onUpdate:modelValue":t[1]||(t[1]=s=>m.value=s),title:"\u4FEE\u6539\u70B9\u68C0\u9879",formConfig:B,onSubmit:k},null,8,["modelValue","formConfig"])])}}});export{oe as default};
