import{c as k}from"./part.b134bb3b.js";import{A as N,r as n,w as c,D as T,d as m,F as y,G as B,o as s,k as v,f as L,c as M,J as V,I as C}from"./index.6261e021.js";const S=N({__name:"index",props:{modelValue:null,disabled:{type:Boolean},valueTag:null},emits:["update:modelValue"],setup(p,{emit:_}){const e=p,o=n(),u=n([]),d=n();c(o,(a,l)=>{a!==l&&_("update:modelValue",a)}),c(()=>e.modelValue,(a,l)=>{a!==l&&a!==o.value&&(o.value=a)},{immediate:!0});const r=n({partName:"",external:-1,isPage:!0,pageNumber:1,pageSize:10});function i(){k(r.value).then(a=>{u.value=[...u.value,...a.data.data],d.value=a.data.total})}T(()=>{i()});const f=()=>{if(console.log("load"),u.value.length>=d.value)return!1;r.value.pageNumber++,i()},g=()=>{f()};return(a,l)=>{const b=m("el-option"),h=m("el-select"),x=y("loadMore");return B((s(),v(h,{modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=t=>o.value=t),style:{width:"240px"},disabled:e==null?void 0:e.disabled,"popper-class":"partSelect"},{default:L(()=>[(s(!0),M(C,null,V(u.value,t=>(s(),v(b,{key:e!=null&&e.valueTag?t[e.valueTag]:t.id,label:t.partName,value:e!=null&&e.valueTag?t[e.valueTag]:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])),[[x,g,"partSelect"]])}}});export{S as _};
