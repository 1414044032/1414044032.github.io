import{F as p,_ as L}from"./index.vue_vue_type_script_setup_true_lang.e875871c.js";import{_ as $}from"./index.vue_vue_type_script_setup_true_lang.e793fdb4.js";import{a as H,b as z}from"./timeSheet.7012d7a6.js";import{A as G,B as J,r as s,C as O,D as R,d as n,F as W,o as F,c as D,l as y,e as u,f as a,g as t,G as q,k as C,H as A,I as K,J as Q,n as b}from"./index.2e5bc0a8.js";import{_ as X}from"./index.vue_vue_type_script_setup_true_lang.c0aac177.js";import{_ as Y}from"./index.vue_vue_type_script_setup_true_lang.3131d1ea.js";import{E as Z,f as ee}from"./interface.47eb8c89.js";import"./user.65af7cc1.js";import"./index.vue_vue_type_script_setup_true_lang.4fed71ce.js";import"./part.2e531779.js";const ue={class:"app-container"},Fe=G({__name:"index",setup(le){const v={beginDate:"",companyName:"",endDate:"",pageNumber:1,pageSize:10,isPage:!0,partCode:"",projectCode:"",taskState:Z.ALL},{cloned:o,sync:V}=J(v),B=s([]),g=s(0),k=async d=>{console.log(d);const e=await z(d),{data:m,msg:r}=e;if(m===1){A.success("\u5916\u534F\u4EFB\u52A1\u65B0\u589E\u6210\u529F"),c.value=!1,_();return}A.error(r)},c=s(!1);s(!1),s(!1);const x=()=>{c.value=!0},h=O({form:{beginDate:"",companyName:"",endDate:"",externalContact:"",externalPhone:"",internalUserId:void 0,processItemId:void 0},rules:{},formLabelConfig:[{label:"\u5916\u534F\u516C\u53F8",prop:"companyName",type:p.Input,placeholder:"\u8BF7\u8F93\u5165\u5916\u534F\u516C\u53F8"},{label:"\u5916\u534F\u4EBA\u540D\u79F0",prop:"externalContact",type:p.Input,placeholder:"\u8BF7\u8F93\u5165\u5916\u534F\u4EBA\u540D\u79F0"},{label:"\u5916\u534F\u8D1F\u8D23\u4EBA\u7535\u8BDD",prop:"externalPhone",type:p.Input,placeholder:"\u8BF7\u8F93\u5165\u5916\u534F\u4EBA\u7535\u8BDD"},{label:"\u5185\u90E8\u8054\u7CFB\u4EBA",prop:"internalUserId",type:p.UserSelect,placeholder:"\u8BF7\u8F93\u5165\u5916\u534F\u4EBA\u540D\u79F0"},{label:"\u8BA1\u5212\u51FA\u5382\u65F6\u95F4",prop:"beginDate",type:p.DatePicker,placeholder:"\u8BF7\u9009\u62E9\u8BA1\u5212\u51FA\u5382\u65F6\u95F4"},{label:"\u8BA1\u5212\u51FA\u5382\u65F6\u95F4",prop:"endDate",type:p.DatePicker,placeholder:"\u8BF7\u9009\u62E9\u8BA1\u5212\u51FA\u5382\u65F6\u95F4"},{label:"\u9879\u76EE\u540D\u79F0",prop:"projectCode",type:p.ProjectSelect,placeholder:"\u8BF7\u8F93\u5165\u9879\u76EE\u540D\u79F0"},{label:"\u96F6\u4EF6\u540D\u79F0",prop:"partCode",type:p.PartSelect,placeholder:"\u8BF7\u8F93\u5165\u96F6\u4EF6\u540D\u79F0"}]});R(()=>{_()});const i=s(!1),_=async()=>{i.value=!0;try{const d=await H(o.value),{data:e,msg:m}=d;B.value=e==null?void 0:e.data,g.value=e==null?void 0:e.total}finally{i.value=!1}},w=[{prop:"actualWorkHour",label:"\u5B9E\u9645\u5DE5\u65F6"},{prop:"beginDate",label:"\u8BA1\u5212\u51FA\u5382\u65F6\u95F4"},{prop:"companyName",label:"\u5916\u534F\u516C\u53F8"},{prop:"endDate",label:"\u8BA1\u5212\u51FA\u5382\u65F6\u95F4"},{prop:"externalContact",label:"\u5916\u534F\u4EBA\u540D\u79F0"},{prop:"externalPhone",label:"\u5916\u534F\u8D1F\u8D23\u4EBA\u7535\u8BDD"},{prop:"internalUserName",label:"\u5185\u90E8\u8054\u7CFB\u4EBA"},{prop:"partName",label:"\u96F6\u4EF6\u540D\u79F0"},{prop:"projectName",label:"\u9879\u76EE\u540D\u79F0"},{prop:"taskState",label:"\u5916\u534F\u4EFB\u52A1\u72B6\u6001"}];return(d,e)=>{const m=n("el-input"),r=n("el-form-item"),E=n("el-date-picker"),N=n("el-option"),S=n("el-select"),f=n("el-button"),U=n("el-form"),P=n("el-col"),j=n("el-row"),I=n("el-table-column"),M=n("el-table"),T=W("loading");return F(),D("div",ue,[y("div",null,[u(U,{model:t(o),inline:!0},{default:a(()=>[u(r,{label:"\u5916\u534F\u516C\u53F8"},{default:a(()=>[u(m,{modelValue:t(o).companyName,"onUpdate:modelValue":e[0]||(e[0]=l=>t(o).companyName=l),style:{width:"240px"}},null,8,["modelValue"])]),_:1}),u(r,{label:"\u8BA1\u5212\u51FA\u5382\u65F6\u95F4"},{default:a(()=>[u(E,{style:{width:"240px"},modelValue:t(o).beginDate,"onUpdate:modelValue":e[1]||(e[1]=l=>t(o).beginDate=l),type:"date",placeholder:"\u9009\u62E9\u65F6\u95F4","value-format":"yyyy-MM-dd"},null,8,["modelValue"])]),_:1}),u(r,{label:"\u8BA1\u5212\u51FA\u5382\u65F6\u95F4"},{default:a(()=>[u(E,{style:{width:"240px"},modelValue:t(o).endDate,"onUpdate:modelValue":e[2]||(e[2]=l=>t(o).endDate=l),type:"date",placeholder:"\u9009\u62E9\u65F6\u95F4","value-format":"yyyy-MM-dd"},null,8,["modelValue"])]),_:1}),u(r,{label:"\u9879\u76EE\u540D\u79F0"},{default:a(()=>[u($,{modelValue:t(o).projectCode,"onUpdate:modelValue":e[3]||(e[3]=l=>t(o).projectCode=l),style:{width:"240px"}},null,8,["modelValue"])]),_:1}),u(r,{label:"\u96F6\u4EF6\u540D\u79F0"},{default:a(()=>[u(X,{modelValue:t(o).projectCode,"onUpdate:modelValue":e[4]||(e[4]=l=>t(o).projectCode=l),style:{width:"240px"}},null,8,["modelValue"])]),_:1}),u(r,{label:"\u5916\u534F\u4EFB\u52A1\u72B6\u6001"},{default:a(()=>[u(S,{modelValue:t(o).taskState,"onUpdate:modelValue":e[5]||(e[5]=l=>t(o).taskState=l),style:{width:"240px"},placeholder:"\u8BF7\u9009\u62E9"},{default:a(()=>[(F(!0),D(K,null,Q(t(ee),l=>(F(),C(N,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),u(r,null,{default:a(()=>[u(f,{type:"primary",icon:"Search",onClick:_},{default:a(()=>[b("\u67E5\u8BE2")]),_:1}),u(f,{icon:"Refresh",onClick:t(V)},{default:a(()=>[b("\u91CD\u7F6E")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),u(j,{gutter:10,class:"mb8"},{default:a(()=>[u(P,{span:1.5},{default:a(()=>[u(f,{type:"primary",plain:"",icon:"Plus",onClick:x},{default:a(()=>[b("\u65B0\u589E")]),_:1})]),_:1},8,["span"])]),_:1}),y("div",null,[q((F(),C(M,{data:B.value,border:"",style:{width:"100%"}},{default:a(()=>[u(Y,{columns:w}),u(I,{label:"\u64CD\u4F5C",fixed:"right",width:"200"},{default:a(l=>[]),_:1})]),_:1},8,["data"])),[[T,i.value]])]),u(L,{modelValue:c.value,"onUpdate:modelValue":e[6]||(e[6]=l=>c.value=l),title:"\u65B0\u589E\u5916\u534F",formConfig:h,onSubmit:k},null,8,["modelValue","formConfig"])])}}});export{Fe as default};
