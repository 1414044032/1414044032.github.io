import{_ as w}from"./index.vue_vue_type_script_setup_true_lang.11b02900.js";import{_ as x}from"./index.vue_vue_type_script_setup_true_lang.35fc4e15.js";import{_ as N}from"./index.vue_vue_type_script_setup_true_lang.15dd06b5.js";import{K as A,A as S,B as j,r as s,D as z,d as r,F as T,o as b,c as U,l as g,e,f as a,g as o,G as $,k as G,H as M,n as C}from"./index.6261e021.js";import{_ as P}from"./index.vue_vue_type_script_setup_true_lang.ac048ba6.js";import"./user.6abe22d0.js";import"./part.b134bb3b.js";const H=m=>A({url:"/mes/stock/list",method:"post",data:m}),I={class:"app-container"},W=S({__name:"index",setup(m){const F={pageNumber:1,pageSize:10,createBy:"",isPage:!0,partCode:"",projectCode:"",stockType:1},{cloned:l,sync:B}=j(F),_=s([]),c=s(!1),f=s(0),d=async u=>{console.log("onSearch"),console.log(l.value),((u==null?void 0:u.page)||(u==null?void 0:u.limit))&&(l.value={...l.value,pageNumber:u.page,pageSize:u.limit}),c.value=!0;try{const t=await H(l.value),{data:n,msg:i}=t;_.value=n.data,f.value=n.total}catch(t){M.error(t)}finally{c.value=!1}};z(()=>{d()}),s(!1),s(!1);const v=[{label:"\u6570\u91CF",prop:"count"},{label:"\u64CD\u4F5C\u4EBA",prop:"createBy"},{label:"\u90E8\u95E8",prop:"depId"},{label:"\u56FE\u7EB8\u5730\u5740",prop:"drawingUrl"},{label:"\u662F\u5426\u5916\u534F",prop:"external"},{label:"\u96F6\u4EF6\u56FE\u53F7",prop:"partCode"},{label:"\u96F6\u4EF6\u540D\u79F0",prop:"partName"},{label:"\u9879\u76EE\u4EE3\u53F7",prop:"projectCode"},{label:"\u9879\u76EE\u540D\u79F0",prop:"projectName"},{label:"\u7C7B\u578B",prop:"stockType"},{label:"\u5165\u5E93\u7528\u6237\u540D",prop:"userNick"},{label:"\u9AD8\u5EA6",prop:"height"},{label:"\u957F\u5EA6",prop:"length"},{label:"\u91CD\u91CF",prop:"weight"},{label:"\u5BBD\u5EA6",prop:"width"}];return(u,t)=>{const n=r("el-form-item"),i=r("el-option"),y=r("el-select"),E=r("el-button"),h=r("el-form"),V=r("el-table"),k=r("pagination"),D=T("loading");return b(),U("div",I,[g("div",null,[e(h,{model:o(l),inline:!0},{default:a(()=>[e(n,{label:"\u64CD\u4F5C\u4EBA"},{default:a(()=>[e(o(w),{modelValue:o(l).createBy,"onUpdate:modelValue":t[0]||(t[0]=p=>o(l).createBy=p),style:{width:"240px"},placeholder:"\u8BF7\u9009\u62E9"},null,8,["modelValue"])]),_:1}),e(n,{label:"\u6240\u5C5E\u9879\u76EE"},{default:a(()=>[e(o(N),{modelValue:o(l).projectCode,"onUpdate:modelValue":t[1]||(t[1]=p=>o(l).projectCode=p),style:{width:"240px"},placeholder:"\u8BF7\u9009\u62E9"},null,8,["modelValue"])]),_:1}),e(n,{label:"\u96F6\u4EF6"},{default:a(()=>[e(o(x),{modelValue:o(l).partCode,"onUpdate:modelValue":t[2]||(t[2]=p=>o(l).partCode=p),style:{width:"240px"},placeholder:"\u8BF7\u9009\u62E9"},null,8,["modelValue"])]),_:1}),e(n,{label:"\u7C7B\u578B"},{default:a(()=>[e(y,{modelValue:o(l).stockType,"onUpdate:modelValue":t[3]||(t[3]=p=>o(l).stockType=p),style:{width:"240px"},placeholder:"\u8BF7\u9009\u62E9"},{default:a(()=>[e(i,{label:"\u5165\u5E93",value:1}),e(i,{label:"\u51FA\u5E93",value:-1})]),_:1},8,["modelValue"])]),_:1}),e(n,null,{default:a(()=>[e(E,{type:"primary",icon:"Search",onClick:d},{default:a(()=>[C("\u67E5\u8BE2")]),_:1}),e(E,{icon:"Refresh",onClick:o(B)},{default:a(()=>[C("\u91CD\u7F6E")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),g("div",null,[$((b(),G(V,{data:_.value,border:"",style:{width:"100%"}},{default:a(()=>[e(P,{columns:v})]),_:1},8,["data"])),[[D,c.value]]),e(k,{total:f.value,page:o(l).pageNumber,"page-size":o(l).pageSize,onPagination:d},null,8,["total","page","page-size"])])])}}});export{W as default};
