import{l as x}from"./user.517568cb.js";import{B,r as t,w as v,F as V,d as f,G as w,H as y,o as r,n as _,f as M,c as C,K as D,J as F}from"./index.8b4e0df5.js";const q=B({__name:"index",props:{modelValue:null,disabled:{type:Boolean}},emits:["update:modelValue"],setup(g,{emit:h}){const o=g,s=t(),n=t([]),i=t();v(s,(e,l)=>{e!==l&&h("update:modelValue",e)}),v(()=>o.modelValue,(e,l)=>{e!==l&&(s.value=e)});const d=t({value:"",pageNum:1,pageSize:10,userName:void 0}),u=t(!1),c=[];function m(){if(u.value){c.push(1);return}u.value=!0,x(d.value).then(e=>{n.value=[...n.value,...e.rows],i.value=e.total,u.value=!1,c.length>0&&p()})}V(()=>{m()});const p=()=>{if(console.log("load"),n.value.length>=i.value)return!1;d.value.pageNum++,m()},b=()=>{p()};return(e,l)=>{const L=f("el-option"),N=f("el-select"),k=w("loadMore");return y((r(),_(N,{modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=a=>s.value=a),style:{width:"240px"},disabled:o==null?void 0:o.disabled,"popper-class":"selectList"},{default:M(()=>[(r(!0),C(F,null,D(n.value,a=>(r(),_(L,{key:a.userId,label:a.userName+"-"+a.nickName,value:a.userId},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])),[[k,b,"selectList"]])}}});export{q as _};
