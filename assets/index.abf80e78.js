import{_ as b,q as P,r as T,s as A}from"./index.vue_vue_type_script_setup_true_lang.71a764b5.js";import{F as y}from"./interface.b519aa86.js";import{B as G,C as M,r,F as $,D as E,d as l,G as j,o as F,c as q,e as o,f as n,j as D,H,n as J,g as d,I as c,p as w}from"./index.8b4e0df5.js";import"./user.517568cb.js";import"./index.vue_vue_type_script_setup_true_lang.2ae15ae8.js";import"./index.vue_vue_type_script_setup_true_lang.666c15f8.js";import"./interface.7e30e7ed.js";const K={class:"app-container"},O=D("div",null,null,-1),le=G({__name:"index",setup(Q){const V={pageNumber:1,pageSize:10,isPage:!0},{cloned:f,sync:R}=M(V),g=r([]),h=async e=>{console.log(e);const t=await P(e),{data:a,msg:u}=t;if(a===1){c.success("\u8BBE\u5907\u7C7B\u578B\u65B0\u589E\u6210\u529F"),p.value=!1,i();return}c.error(u)},k=async e=>{const t=await T(e),{data:a,msg:u}=t;if(a===1){c.success("\u70B9\u68C0\u9879\u4FEE\u6539\u6210\u529F"),m.value=!1,i();return}c.error(u)},_=r(!1),v=r(0),i=async()=>{_.value=!0;try{const e=await A(f.value),{data:t,msg:a}=e;g.value=t.data,v.value=t.total}catch(e){c.error(e)}finally{_.value=!1}};$(()=>{i()});const p=r(!1),m=r(!1),x=()=>{console.log("\u65B0\u589E"),p.value=!0},z=e=>{B.form={...e},m.value=!0},B=E({form:{},rules:{},formLabelConfig:[{label:"\u8BBE\u5907\u7C7B\u578B",prop:"item",type:y.Input,placeholder:"\u8BF7\u8F93\u5165"}]}),N=E({form:{item:""},rules:{},formLabelConfig:[{label:"\u70B9\u68C0\u9879",prop:"item",type:y.Input,placeholder:"\u8BF7\u8F93\u5165\u70B9\u68C0\u9879"}]});return(e,t)=>{const a=l("el-button"),u=l("el-col"),S=l("el-row"),C=l("el-table-column"),U=l("el-table"),I=l("pagination"),L=j("loading");return F(),q("div",K,[O,o(S,{gutter:10,class:"mb8"},{default:n(()=>[o(u,{span:1.5},{default:n(()=>[o(a,{type:"primary",plain:"",icon:"Plus",onClick:x},{default:n(()=>[w("\u65B0\u589E")]),_:1})]),_:1},8,["span"])]),_:1}),D("div",null,[H((F(),J(U,{data:g.value,border:"",style:{width:"100%"}},{default:n(()=>[o(C,{prop:"item",label:"\u70B9\u68C0\u9879"}),o(C,{label:"\u64CD\u4F5C"},{default:n(s=>[o(a,{size:"small",type:"warning",onClick:W=>z(s.row)},{default:n(()=>[w("\u4FEE\u6539")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[L,_.value]]),o(I,{total:v.value,page:d(f).pageNumber,"page-size":d(f).pageSize,onPagination:i},null,8,["total","page","page-size"])]),o(d(b),{modelValue:p.value,"onUpdate:modelValue":t[0]||(t[0]=s=>p.value=s),title:"\u65B0\u589E\u70B9\u68C0\u9879",formConfig:N,onSubmit:h},null,8,["modelValue","formConfig"]),o(d(b),{modelValue:m.value,"onUpdate:modelValue":t[1]||(t[1]=s=>m.value=s),title:"\u4FEE\u6539\u70B9\u68C0\u9879",formConfig:B,onSubmit:k},null,8,["modelValue","formConfig"])])}}});export{le as default};
