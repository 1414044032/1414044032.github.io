import{_ as w}from"./index.vue_vue_type_script_setup_true_lang.2ae15ae8.js";import{_ as x}from"./index.vue_vue_type_script_setup_true_lang.0f2a16a1.js";import{_ as N}from"./index.vue_vue_type_script_setup_true_lang.666c15f8.js";import{L as A,B as S,C as j,r as s,F as z,d as r,G as T,o as b,c as U,j as g,e,f as a,g as o,H as $,n as G,I,p as C}from"./index.8b4e0df5.js";import{_ as L}from"./index.vue_vue_type_script_setup_true_lang.abca134c.js";import"./user.517568cb.js";import"./part.601bb279.js";import"./interface.7e30e7ed.js";const M=m=>A({url:"/mes/stock/list",method:"post",data:m}),P={class:"app-container"},X=S({__name:"index",setup(m){const F={pageNumber:1,pageSize:10,createBy:"",isPage:!0,partCode:"",projectCode:"",stockType:1},{cloned:l,sync:B}=j(F),_=s([]),i=s(!1),f=s(0),c=async u=>{console.log("onSearch"),console.log(l.value),((u==null?void 0:u.page)||(u==null?void 0:u.limit))&&(l.value={...l.value,pageNumber:u.page,pageSize:u.limit}),i.value=!0;try{const t=await M(l.value),{data:n,msg:d}=t;_.value=n.data,f.value=n.total}catch(t){I.error(t)}finally{i.value=!1}};z(()=>{c()}),s(!1),s(!1);const v=[{label:"\u6570\u91CF",prop:"count"},{label:"\u64CD\u4F5C\u4EBA",prop:"createBy"},{label:"\u90E8\u95E8",prop:"depId"},{label:"\u56FE\u7EB8\u5730\u5740",prop:"drawingUrl"},{label:"\u662F\u5426\u5916\u534F",prop:"external"},{label:"\u96F6\u4EF6\u56FE\u53F7",prop:"partCode"},{label:"\u96F6\u4EF6\u540D\u79F0",prop:"partName"},{label:"\u9879\u76EE\u4EE3\u53F7",prop:"projectCode"},{label:"\u9879\u76EE\u540D\u79F0",prop:"projectName"},{label:"\u7C7B\u578B",prop:"stockType"},{label:"\u5165\u5E93\u7528\u6237\u540D",prop:"userNick"},{label:"\u9AD8\u5EA6",prop:"height"},{label:"\u957F\u5EA6",prop:"length"},{label:"\u91CD\u91CF",prop:"weight"},{label:"\u5BBD\u5EA6",prop:"width"}];return(u,t)=>{const n=r("el-form-item"),d=r("el-option"),y=r("el-select"),E=r("el-button"),h=r("el-form"),V=r("el-table"),k=r("pagination"),D=T("loading");return b(),U("div",P,[g("div",null,[e(h,{model:o(l),inline:!0},{default:a(()=>[e(n,{label:"\u64CD\u4F5C\u4EBA"},{default:a(()=>[e(o(w),{modelValue:o(l).createBy,"onUpdate:modelValue":t[0]||(t[0]=p=>o(l).createBy=p),style:{width:"240px"},placeholder:"\u8BF7\u9009\u62E9"},null,8,["modelValue"])]),_:1}),e(n,{label:"\u6240\u5C5E\u9879\u76EE"},{default:a(()=>[e(o(N),{modelValue:o(l).projectCode,"onUpdate:modelValue":t[1]||(t[1]=p=>o(l).projectCode=p),style:{width:"240px"},placeholder:"\u8BF7\u9009\u62E9"},null,8,["modelValue"])]),_:1}),e(n,{label:"\u96F6\u4EF6"},{default:a(()=>[e(o(x),{modelValue:o(l).partCode,"onUpdate:modelValue":t[2]||(t[2]=p=>o(l).partCode=p),style:{width:"240px"},placeholder:"\u8BF7\u9009\u62E9"},null,8,["modelValue"])]),_:1}),e(n,{label:"\u7C7B\u578B"},{default:a(()=>[e(y,{modelValue:o(l).stockType,"onUpdate:modelValue":t[3]||(t[3]=p=>o(l).stockType=p),style:{width:"240px"},placeholder:"\u8BF7\u9009\u62E9"},{default:a(()=>[e(d,{label:"\u5165\u5E93",value:1}),e(d,{label:"\u51FA\u5E93",value:-1})]),_:1},8,["modelValue"])]),_:1}),e(n,null,{default:a(()=>[e(E,{type:"primary",icon:"Search",onClick:c},{default:a(()=>[C("\u67E5\u8BE2")]),_:1}),e(E,{icon:"Refresh",onClick:o(B)},{default:a(()=>[C("\u91CD\u7F6E")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),g("div",null,[$((b(),G(V,{data:_.value,border:"",style:{width:"100%"}},{default:a(()=>[e(L,{columns:v})]),_:1},8,["data"])),[[D,i.value]]),e(k,{total:f.value,page:o(l).pageNumber,"page-size":o(l).pageSize,onPagination:c},null,8,["total","page","page-size"])])])}}});export{X as default};
